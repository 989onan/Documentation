

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>UProperty &mdash; Satisfactory Modding Documentation  documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/favicon-32x32.png"/>
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="UStruct" href="UStruct.html" />
    <link rel="prev" title="UField" href="UField.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> Satisfactory Modding Documentation
          

          
            
            <img src="../../_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../beginners_guide/index.html">Getting Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">SML</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../SPL/index.html">Satisfactory Pak Loader</a></li>
<li class="toctree-l2"><a class="reference internal" href="../SDK/index.html">Satisfactory Development Kit</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Blue-Print Interface</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="index.html#the-problem">The Problem</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#the-solution">The Solution</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html#general">General</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="UObject.html">UObject</a></li>
<li class="toctree-l4"><a class="reference internal" href="UField.html">UField</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">UProperty</a></li>
<li class="toctree-l4"><a class="reference internal" href="UStruct.html">UStruct</a></li>
<li class="toctree-l4"><a class="reference internal" href="UFunction.html">UFunction</a></li>
<li class="toctree-l4"><a class="reference internal" href="UClass.html">UClass</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#mod-types">Mod “Types”</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Satisfactory Modding Documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">SML</a> &raquo;</li>
        
          <li><a href="index.html">Blue-Print Interface</a> &raquo;</li>
        
      <li>UProperty</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/SML/BPI/UProperty.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="uproperty">
<h1>UProperty<a class="headerlink" href="#uproperty" title="Permalink to this headline">¶</a></h1>
<p>A <a class="reference internal" href="#uproperty">UProperty</a> is a special kind of <a class="reference external" href="UField">UField</a> which contains a ref to some value of an object.
Also it helps to construct and destruct that value.</p>
<div class="section" id="get-the-value-reference">
<h2>Get the value reference<a class="headerlink" href="#get-the-value-reference" title="Permalink to this headline">¶</a></h2>
<p>Getting some value reference through a <a class="reference internal" href="#uproperty">UProperty</a> is pretty straight forward.
Fist you need to get the <a class="reference internal" href="#uproperty">UProperty</a> of the corresponding <a class="reference external" href="UClass">UClass</a> your <a class="reference external" href="UObject">UObject</a> uses, then you just need to call the <code class="docutils literal notranslate"><span class="pre">getValue</span></code> method and provide the object (context) it self so the <a class="reference internal" href="#uproperty">UProperty</a> know from where it should extract the value from.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">UObject</span><span class="o">*</span> <span class="n">obj</span><span class="p">;</span>
<span class="n">UProperty</span><span class="o">*</span> <span class="n">prop</span><span class="p">;</span>
<span class="n">ValueType</span><span class="o">*</span> <span class="n">val</span> <span class="o">=</span> <span class="n">prop</span><span class="o">-&gt;</span><span class="n">getValue</span><span class="o">&lt;</span><span class="n">ValueType</span><span class="o">&gt;</span><span class="p">(</span><span class="n">obj</span><span class="p">);</span>
</pre></div>
</div>
<p>As you can see, you need to give the function the c++ value type cause it casts the value for you directly.
To get the final value just dereference it.
You’re also able to set the value by just using the c++ reference.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If the value stored in the instance is a pointer, you need to use as ValueType a pointer. f.e. a <code class="docutils literal notranslate"><span class="pre">UObjectProperty</span></code> contains not the <a class="reference external" href="UObject">UObject</a> but a pointer to it!</p>
</div>
</div>
<div class="section" id="building">
<h2>Building<a class="headerlink" href="#building" title="Permalink to this headline">¶</a></h2>
<p>The BPI provides the <code class="docutils literal notranslate"><span class="pre">SML::Paks::PropertyBuilder</span></code>-Class in <code class="docutils literal notranslate"><span class="pre">assets/BPInterface.h</span></code> to make declaring and defining a custom <a class="reference internal" href="#uproperty">UProperty</a> easier.
This class has multiple types of static initializer function for different types of <cite>UPropertys &lt;UProperty&gt;</cite>.</p>
<ul class="simple">
<li><dl class="simple">
<dt>attrib</dt><dd><p>This function initializes a PropertyBuilder for an attribute</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>param</dt><dd><p>This function initializes a PropertyBuilder for the use as a input paramter for a UFunction</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>outParam</dt><dd><p>This function initializes a PropertyBuilder for the use as a output paramter for a UFunction</p>
</dd>
</dl>
</li>
</ul>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>To get an Returnvalue-Property for a UFunction, add the <code class="docutils literal notranslate"><span class="pre">EPropertyFlag::Prop_RetVal</span></code>-Flag to a outParam.</p>
</div>
<p>When you call one of this function you need to pass the property-type and the name of the property.</p>
<div class="section" id="flags">
<h3>Flags<a class="headerlink" href="#flags" title="Permalink to this headline">¶</a></h3>
<p>The builderclass provides the addFlag and removeFlag methods for manipulating the property flag register.</p>
</div>
<div class="section" id="class-type">
<h3>Class-Type<a class="headerlink" href="#class-type" title="Permalink to this headline">¶</a></h3>
<p>Some types like Object need a <a class="reference external" href="UClass">UClass</a> to know which <a class="reference external" href="UObjects">UObjects</a> are allowed in that reference.
For this purpose there is the <code class="docutils literal notranslate"><span class="pre">classFunc</span></code> method which wants a function pointer to a function which returns the wanted <a class="reference external" href="UClass">UClass</a>.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>You can use the provided “StaticClass” function of default <a class="reference external" href="UObject">UObject</a> -types for this.</p>
</div>
</div>
<div class="section" id="booleans">
<h3>Booleans<a class="headerlink" href="#booleans" title="Permalink to this headline">¶</a></h3>
<p>Booleans are tricky. They need a so called bit-set-function. To make this easier the PropertyBuilder-Class provides the <code class="docutils literal notranslate"><span class="pre">bool</span></code> function.
This function has template which needs to be a C++ “pointer-to-member” which points to the attribute in your native class.</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">UTestObj</span> <span class="p">{</span>
    <span class="kt">bool</span> <span class="n">isSomething</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">getPropBuilderRef</span><span class="p">().</span><span class="kt">bool</span><span class="o">&lt;&amp;</span><span class="n">UTestObj</span><span class="o">::</span><span class="n">isSomething</span><span class="o">&gt;</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="offset">
<h3>Offset<a class="headerlink" href="#offset" title="Permalink to this headline">¶</a></h3>
<p>Some properties need the offset of the value location to the object-base-pointer like generic ones (f.e. int and Object).
With the <code class="docutils literal notranslate"><span class="pre">off</span></code> function you can set that offset, but if you don’t set that value then the other builderclasses set that offset automaticly.
The will look for the last given properties offset, add the used byte count onto the offset and then use that one as the new one.</p>
</div>
<div class="section" id="examples">
<h3>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h3>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">UTestClass</span> <span class="p">{</span>
    <span class="kt">bool</span> <span class="n">firstProp</span><span class="p">;</span>
    <span class="kt">float</span> <span class="n">nonProp</span><span class="p">;</span>
    <span class="kt">int</span> <span class="n">seccondProp</span><span class="p">;</span>
    <span class="n">AActor</span><span class="o">*</span> <span class="n">thirdProp</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">struct</span> <span class="n">FuncParams</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">input</span><span class="p">;</span>
    <span class="n">FString</span> <span class="n">output</span><span class="p">;</span>
    <span class="kt">bool</span> <span class="n">returnVal</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">PropertyBuilder</span><span class="o">::</span><span class="n">attrib</span><span class="p">(</span><span class="n">EPropertyClass</span><span class="o">::</span><span class="n">Bool</span><span class="p">,</span> <span class="s">&quot;FirstProp&quot;</span><span class="p">).</span><span class="kt">bool</span><span class="o">&lt;&amp;</span><span class="n">UTetsClass</span><span class="o">::</span><span class="n">firstProp</span><span class="o">&gt;</span><span class="p">();</span>
<span class="n">PropertyBuilder</span><span class="o">::</span><span class="n">attrib</span><span class="p">(</span><span class="n">EPropertyClass</span><span class="o">::</span><span class="n">Int</span><span class="p">,</span> <span class="s">&quot;WierdName&quot;</span><span class="p">).</span><span class="n">off</span><span class="p">(</span><span class="k">sizeof</span><span class="p">(</span><span class="kt">bool</span><span class="p">)</span><span class="o">+</span><span class="k">sizeof</span><span class="p">(</span><span class="kt">float</span><span class="p">));</span>
<span class="n">PropertyBuilder</span><span class="o">::</span><span class="n">attrib</span><span class="p">(</span><span class="n">EPropertyClass</span><span class="o">::</span><span class="n">Object</span><span class="p">,</span> <span class="s">&quot;ThirdProp&quot;</span><span class="p">).</span><span class="n">classFunc</span><span class="p">(</span><span class="o">&amp;</span><span class="n">AActor</span><span class="o">::</span><span class="n">StaticClass</span><span class="p">);</span>

<span class="n">PropertyBuilder</span><span class="o">::</span><span class="n">param</span><span class="p">(</span><span class="n">EPropertyClass</span><span class="o">::</span><span class="n">Int</span><span class="p">,</span> <span class="s">&quot;input&quot;</span><span class="p">);</span>
<span class="n">PropertyBuilder</span><span class="o">::</span><span class="n">outParam</span><span class="p">(</span><span class="n">EPropertyClass</span><span class="o">::</span><span class="n">Str</span><span class="p">,</span> <span class="s">&quot;output&quot;</span><span class="p">);</span>
<span class="n">PropertyBuilder</span><span class="o">::</span><span class="n">outParam</span><span class="p">(</span><span class="n">EPropertyClass</span><span class="o">::</span><span class="kt">bool</span><span class="p">,</span> <span class="s">&quot;retVal&quot;</span><span class="p">).</span><span class="n">addFlag</span><span class="p">(</span><span class="n">EPropertyFlag</span><span class="o">::</span><span class="n">Prop_ReturnVal</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="finishing">
<h3>Finishing<a class="headerlink" href="#finishing" title="Permalink to this headline">¶</a></h3>
<p>To finish the build you just need to execute the <code class="docutils literal notranslate"><span class="pre">build</span></code> function which returns a pointer to the proper description structure.
This structure is managed by the PropertyBuilder, that means <strong>when the PropertyBuilder runs out of scope, the description structure is invalid!</strong>
That’s why other builderclasses want the builder directly and not the build description.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="UStruct.html" class="btn btn-neutral float-right" title="UStruct" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="UField.html" class="btn btn-neutral float-left" title="UField" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, SatisfactoryModding

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>